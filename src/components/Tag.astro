---
export interface Props {
  name: string;
  class?: string;
}

const { name, class: className } = Astro.props;

const icons = import.meta.glob("/src/assets/SVGs/*.svg", { as: "raw", eager: true });
const iconPath = `/src/assets/SVGs/${name}.svg`;
const svgCode = icons[iconPath];

if (!svgCode) {
  console.error(`Icono "${name}" no encontrado en /src/assets/SVGs/`);
}

const randomDelay = Math.random() * 5;
---

<div
  class="animate-float"
  style={{
    filter: "drop-shadow(0 0 1px currentColor)",
    animationDelay: `${randomDelay}s`,
  }}
>
  <span class:list={["inline-block", className]} set:html={svgCode} />
</div>

<style>
  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-3px);
    }
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
</style>
