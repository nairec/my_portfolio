---
import ModeToggle from "./ModeToggle.astro"
import { mode } from "../projects.js";
---

<div class="flex flex-col gap-5 items-center">
    <h1 class="text-gray-100 text-3xl">This are some of my <span class={mode.get() == 'fun' ? 'text-cyan-300' : 'text-indigo-500'} id="projectsSpan">{mode.get() == 'fun' ? 'fun projects' : 'serious projects'}</span></h1>
    <p class="text-gray-200"><span class="text-green-500">></span> You can decide to see my 'serious' projects or some of my 'just for fun' projects</p>
    <ModeToggle />
</div>

<script>
    import { mode } from '../projects.js';
    document.addEventListener('astro:page-load', () => {
        const projectsSpan = document.getElementById('projectsSpan');
    
        mode.subscribe((value) => {
            if (projectsSpan) {
                if (value === 'fun') {
                    projectsSpan.textContent = 'fun projects';
                    projectsSpan.classList.remove('text-indigo-500');
                    projectsSpan.classList.add('text-cyan-300');
                } else {
                    projectsSpan.textContent = 'serious projects';
                    projectsSpan.classList.remove('text-cyan-300');
                    projectsSpan.classList.add('text-indigo-500');
                }
            }
        });
    });
</script>